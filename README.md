–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API ‚Äî Lab_OOP
üìç –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot. –†–µ–∞–ª–∏–∑—É–µ—Ç:

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å JWT.

CRUD –¥–ª—è —Ü–≤–µ—Ç–æ–≤ (Flower).

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

–û–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

REST API —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏.

üì¶ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
AuthController
–ú–∞—Ä—à—Ä—É—Ç—ã: /auth/**

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–∏–Ω–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤.

–ú–µ—Ç–æ–¥—ã:

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
@PostMapping("/login")
public ResponseEntity<?> login(@RequestBody AuthRequest authRequest)
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT-—Ç–æ–∫–µ–Ω.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: AuthRequest {username, password}

–û—Ç–≤–µ—Ç: JSON {token: "..."} –∏–ª–∏ –æ—à–∏–±–∫–∞.

UserController
–ú–∞—Ä—à—Ä—É—Ç—ã: /user/**

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

–ú–µ—Ç–æ–¥—ã:

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
@GetMapping("/info")
public ResponseEntity<?> userInfo()
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ä–æ–ª—å –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–û—Ç–≤–µ—Ç: JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

CrudController
–ú–∞—Ä—à—Ä—É—Ç—ã: /crud/**

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ Flower.

–ú–µ—Ç–æ–¥—ã:

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
@GetMapping
public List<Flower> getAll()
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤.

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
@PostMapping
public Flower create(@RequestBody Flower flower)
–°–æ–∑–¥–∞—Ç—å —Ü–≤–µ—Ç.

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
@PutMapping("/{id}")
public Flower update(@PathVariable Long id, @RequestBody Flower flower)
–û–±–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç –ø–æ ID.

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
@DeleteMapping("/{id}")
public void delete(@PathVariable Long id)
–£–¥–∞–ª–∏—Ç—å —Ü–≤–µ—Ç –ø–æ ID.

TestController, MainController, ViewController
–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å UI –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (MVC, —à–∞–±–ª–æ–Ω—ã).

–ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–ª–∏ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π.

üß© –ú–æ–¥–µ–ª–∏
User
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∏—Å—Ç–µ–º—ã.

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
private Long id;
private String username;
private String password;
private Role role;
Role
java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
public enum Role {
    USER,
    ADMIN
}
Flower
java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
private Long id;
private String name;
private Double price;
AuthRequest
DTO –¥–ª—è –ª–æ–≥–∏–Ω–∞.

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
private String username;
private String password;

üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
JwtUtil
–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤.

java
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
public String generateToken(String username);
public boolean validateToken(String token);
public String extractUsername(String token);
SecurityConfig
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç Spring Security:

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç JwtFilter

–†–∞–∑—Ä–µ—à–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ /auth/login

–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

üîß –°–µ—Ä–≤–∏—Å—ã
CustomUserDetailsService
–†–µ–∞–ª–∏–∑—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ë–î –ø–æ –∏–º–µ–Ω–∏.
